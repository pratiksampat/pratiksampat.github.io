<html>

<head>
  <script src="https://aframe.io/releases/0.5.0/aframe.min.js"></script>
  <script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
</head>
<!-- test for multi Markers -->
<body style='margin : 0px; overflow: hidden;'>
  <a-scene embedded artoolkit='sourceType: webcam;'>
    <a-marker id="marker1" type="pattern" url="patterns/scapic.patt">
    </a-marker>
    <a-marker id="marker2" type="pattern" url="patterns/patt.pratik">
    </a-marker>

    <a-entity camera></a-entity>
  </a-scene>
  <script>
    jQuery.loadScript = function (url, callback) {
      jQuery.ajax({
        url: url,
        dataType: 'script',
        success: callback,
        async: true
      });
    }
    var cameraMarker = document.getElementById("marker1");
    var pratikMarker = document.getElementById("marker2");
    cameraMarkerDetected = setInterval(function(){
      js = "scripts/scapicMarkerScript.js";
      if(cameraMarker.object3D.visible == true){
        $.loadScript(js,function(){
            console.log("loaded");
        });
        clearInterval(cameraMarkerDetected);
      }
    },300);
    pratikMarkerDetected = setInterval(function(){
      js = "/scripts/pratikMarkerScript.js";
      if(pratikMarker.object3D.visible == true){
        $.loadScript(js,function(){
            console.log("loaded");
        });
        clearInterval(pratikMarkerDetected);
      }
    },300)

  </script>
</body>

</html>
